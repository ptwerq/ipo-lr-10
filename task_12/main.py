# Импортируем функцию проверки прямоугольника из пакета collision
from collision import isCorrectRect

def read_point(name):
    """
    Функция запрашивает у пользователя координаты точки.
    Возвращает кортеж вида (x, y).
    """
    while True:
        # Запрашиваем ввод координат
        raw = input(f"Введите координаты точки {name} через пробел (пример: 1.5 2): ").strip()
        parts = raw.split()

        # Проверяем, что введено ровно 2 элемента
        if len(parts) != 2:
            print("Нужно ввести два числа через пробел. Попробуйте ещё раз.")
            continue

        try:
            # Пробуем преобразовать в числа с плавающей точкой
            x = float(parts[0])
            y = float(parts[1])

            # Возвращаем кортеж координат
            return (x, y)

        except ValueError:
            # Ошибка, если введены нечисловые значения
            print("Координаты должны быть числами. Попробуйте снова.")

def main():
    # Информационное сообщение при запуске программы
    print("Проверка корректности прямоугольника по двум точкам.\n")

    # Получаем координаты двух углов прямоугольника
    p1 = read_point("левого нижнего угла")
    p2 = read_point("правого верхнего угла")

    # Проверяем корректность прямоугольника
    result = isCorrectRect([p1, p2])

    # Пустая строка для удобства чтения
    print()

    # Вывод результата
    print(f"Введённые точки: {p1} и {p2}")
    if result:
        print("✔ Прямоугольник введён корректно.")
    else:
        print("✘ Ошибка: координаты введены некорректно (x1 < x2 и y1 < y2 должны соблюдаться).")

# Запускаем main() только если файл запускается напрямую,
# а не импортируется как модуль
if __name__ == "__main__":
    main()